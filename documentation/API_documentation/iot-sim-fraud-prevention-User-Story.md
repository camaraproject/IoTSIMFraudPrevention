# IoT SIM Fraud Prevention API User Story

| **Item** | **Details** |
| ---- | ------- |
| ***Summary*** | As an enterprise customer managing IoT devices, I need to prevent SIM card fraud by binding SIM cards to specific devices (IMEI binding) and restricting their usage to specific geographic areas (area restrictions). This helps me ensure that my IoT SIM cards are only used on authorized devices in authorized locations, preventing unauthorized usage and potential fraud. |
| ***Roles, Actors and Scope*** | **Roles:** Customer:Administrator, Customer:User<br> **Actors:** Enterprise IoT administrators, IoT platform operators, security teams. The API handles both two-legged and three-legged access tokens for device identification.<br> **Scope:** <ul><li>Bind and unbind IMEI numbers to SIM cards</li><li>Set and remove geographic area restrictions</li><li>Query current binding and restriction status</li><li>Subscribe to notifications for IMEI or area changes</li><li>Receive real-time alerts when unauthorized changes occur</li></ul> |
| ***Pre-conditions*** |The preconditions are listed below:<br><ol><li>The Customer:BusinessManager and Customer:Administrator have been onboarded to the CSP's API platform.</li><li>The Customer:BusinessManager has successfully subscribed to the IoT SIM Fraud Prevention product from the product catalog.</li><li>The Customer:Administrator has onboarded the Customer:User to the platform.</li><li>The Customer:User has obtained valid identifiers for the target IoT devices or will use three-legged access tokens for device identification.</li><li>The enterprise has legitimate business needs for device binding and area restrictions for their IoT deployments.</li>|
| ***Activities/Steps*** | **Starts when:** <br>1. The customer identifies IoT devices that require fraud prevention measures<br><br>**Main Operations:** <br>2. The customer makes a POST request to `/bind` to establish IMEI binding or area restrictions for specific devices<br>3. The customer makes a POST request to `/unbind` to remove existing bindings or restrictions when devices are decommissioned or relocated<br>4. The customer makes a POST request to `/query` to check current binding and restriction status<br>5. The customer makes a POST request to `/subscribe` to receive notifications when IMEI or area changes occur<br>6. The system automatically blocks network services when unauthorized IMEI usage or area violations are detected<br><br> **Ends when:** <br>The IoT SIM cards are properly secured with appropriate bindings and restrictions, and the customer has visibility into the security status through queries and notifications. |
| ***Post-conditions*** | 1. For successful bind operations: The SIM card is bound to the specified IMEI or area, and network services will be blocked if unauthorized usage is detected.<br>2. For successful unbind operations: The existing binding or restriction is removed, allowing the SIM card to be used on different devices or in different areas.<br>3. For query operations: The current binding and restriction status is returned, providing visibility into the security configuration.<br>4. For subscription operations: Notifications are sent to the specified callback URL when relevant changes occur.<br>5. The system automatically enforces the configured security policies by blocking unauthorized usage.|
| ***Exceptions*** | Several exceptions might occur <br>- Authentication failures: Invalid, missing, or expired access tokens<br>- Authorization failures: Insufficient permissions or scope<br>- Invalid inputs: Missing required parameters, invalid parameter values, or inconsistent device identifiers<br>- Device not found: Provided device identifiers don't match any known devices<br>- Unsupported operations: Attempting to unbind when no binding exists, or using unsupported identifier types<br>- Rate limiting: Exceeding API quota or request rate limits<br>- Network errors: Temporary service unavailability or callback endpoint issues|